<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>QRConnect Chat</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/static/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/static/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/static/favicon-16x16.png"
    />
    <link rel="manifest" href="/static/site.webmanifest" />
    <link rel="stylesheet" href="/static/styles.css" />
    <script defer src="/static/scripts.js"></script>
  </head>
  
  <body>
    <div class="app">
      <header class="header">
        <div class="title">
          <span>QRConnect</span>
          <span class="pill">LAN chat</span>
        </div>
        <div class="header-right">
          <div class="status" id="status">
            <span class="status-dot" id="statusDot"></span>
            <span class="status-text" id="statusText">Connecting…</span>
          </div>
          <button
            id="qrButton"
            class="settings-button"
            type="button"
            aria-label="Show QR code"
            title="Show QR code"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 448 512"
              aria-hidden="true"
              focusable="false"
            >
              <path
                d="M64 160l64 0 0-64-64 0 0 64zM0 80C0 53.5 21.5 32 48 32l96 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-96 0c-26.5 0-48-21.5-48-48L0 80zM64 416l64 0 0-64-64 0 0 64zM0 336c0-26.5 21.5-48 48-48l96 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-96 0c-26.5 0-48-21.5-48-48l0-96zM320 96l0 64 64 0 0-64-64 0zM304 32l96 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-96 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zM288 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm96 32c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zm32-96a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm-32 32a32 32 0 1 1 -64 0 32 32 0 1 1 64 0z"
                fill="currentColor"
              />
            </svg>
          </button>
          <div class="settings">
            <button
              id="settingsButton"
              class="settings-button"
              type="button"
              aria-label="Chat settings"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"
                  fill="currentColor"
                />
              </svg>
            </button>
            <div class="settings-menu" id="settingsMenu">
              <div class="settings-menu-title">Theme</div>
              <button type="button" data-theme="midnight" class="is-active">
                Midnight
              </button>
              <button type="button" data-theme="love">Love</button>
              <button type="button" data-theme="terminal">Terminal</button>
              <button type="button" data-theme="minimal">Minimal light</button>
              <button type="button" data-theme="minimal-dark">
                Minimal dark
              </button>
            </div>
          </div>
        </div>
      </header>
      <main class="messages" id="messages" aria-live="polite"></main>
      <footer class="footer">
        <div class="input-row">
          <input
            id="messageInput"
            type="text"
            autocomplete="off"
            placeholder="Type a message"
          />
          <button id="sendButton" type="button">
            <span>Send</span>
          </button>
        </div>
        <div class="hint">
          <span>Press Enter to send</span>
          <span>Messages are shared with all devices</span>
        </div>
      </footer>
    </div>

    <div class="qr-overlay" id="qrOverlay">
      <div class="qr-modal">
        <div class="qr-modal-header">
          <span class="qr-modal-title">Scan to join</span>
          <button
            id="qrCloseButton"
            class="qr-close-button"
            type="button"
            aria-label="Close QR code"
          >
            ✕
          </button>
        </div>
        <img
          src="/static/qrconnect_url.png"
          alt="QR code for QRConnect"
          class="qr-image"
        />
        <p class="qr-modal-hint">
          Open this page on your computer and scan this code from another
          device on the same Wi‑Fi.
        </p>
      </div>
    </div>
  </body>
</html>
